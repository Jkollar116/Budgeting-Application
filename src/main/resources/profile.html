<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Profile Setup</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<header>
    <div class="logo">CashClimb</div>
    <nav>
        <ul>
            <li><a href="profile.html">Profile</a></li>
        </ul>
    </nav>
</header>
<button class="drawer-toggle" onclick="toggleDrawer()">â˜°</button>
<nav class="drawer" id="sideDrawer">
    <ul>
        <li><a href="home.html">Dashboard</a></li>
        <li><a href="expenses.html">Expenses</a></li>
        <li><a href="income.html">Income</a></li>
        <li><a href="tax.html">Tax</a></li>
        <li><a href="crypto.html">Crypto</a></li>
        <li><a href="stocks.html">Stocks</a></li>
        <li><a href="chat.html">Chat</a></li>
        <!--
        Add net worth amount to profile
        -->
        <li><a href="#">Profile</a></li>
        <li><a href="settings.html">Settings</a></li>
        <!--
        This is not working as it's supposed to
        -->
        <li><a href="index.html">Logout</a></li>
        <li><a href="bills.html">Bills Page (Not Done)</a></li>
        <!--
        Everything Below this is incomplete, add as its completed, the page below this comment
        section that actually works, has a template for including the side drawer, and relevant
        javascript for the theme change. Copy and paste that to any html and you should be fine
        <li><a href="leaderboard.html">Leaderboard</a></li>
        <li><a href="reminders.html">Set Reminders</a></li>
        <li><a href="alerts.html">Alerts</a></li>
        <li><a href="assetsLiabilities.html">Assets & Liabilities</a></li>
        <li><a href="reports.html">Reports</a></li>
        <li><a href="netWorth.html">Net Worth</a></li>
        <li><a href="financialTips.html">Financial Tips</a></li>
        <li><a href="goals.html">Goals and Limits</a></li>
        -->
        <li><a href="leaderboard.html">Leaderboard</a></li>
    </ul>
</nav>
<main>
    <div class="hero">
        <div class="header-content">
            <h1>Profile Management</h1>
            <p>Manage Your Profile Below</p>
        </div>
    </div>
    <div class="profile-container">
        <h1 class="profile-header">Complete Your Profile</h1>
        <form class="profile-form" id="profileForm">
            <div class="profile-picture-container">
                <div class="profile-picture-preview" id="imagePreview">
                    <span>No image selected</span>
                </div>
                <div class="form-group">
                    <label for="profileImage">Profile Picture</label>
                    <input type="file" id="profileImage" name="profileImage" accept="image/*" class="upload-btn">
                </div>
            </div>
            <div class="form-group">
                <label for="fullName">Full Name</label>
                <input type="text" id="fullName" name="fullName" placeholder="Enter your full name" required>
            </div>
            <button type="submit" class="submit-btn">Save Profile</button>
        </form>
    </div>
</main>
</body>
<script>
    function toggleDrawer() {
        const drawer = document.getElementById('sideDrawer');
        drawer.classList.toggle('collapsed');
    }
    function getThemePreference(name) {
        const match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
        if (!match) return null;
        return match[2];
    }
    window.addEventListener('pageshow', function(event) {
        if (event.persisted) window.location.reload();
    });
    window.addEventListener('DOMContentLoaded', () => {
        const savedTheme = getThemePreference('theme');
        const body = document.body;
        if (savedTheme === 'light') {
            body.classList.add('light-mode');
        } else if (savedTheme === 'dark') {
            body.classList.add('dark-mode');
        }
        if (savedTheme) {
            const input = document.querySelector(`input[name="theme"][value="${savedTheme}"]`);
            if (input) input.checked = true;
        }
    });
    // Preview the selected profile image
    document.getElementById('profileImage').addEventListener('change', function(event) {
        const file = event.target.files[0];
        const preview = document.getElementById('imagePreview');

        if (file) {
            const reader = new FileReader();

            reader.onload = function(e) {
                preview.innerHTML = `<img src="${e.target.result}" alt="Profile Preview">`;
            }

            reader.readAsDataURL(file);
        } else {
            preview.innerHTML = '<span>No image selected</span>';
        }
    });

    // Form submission handler
    document.getElementById('profileForm').addEventListener('submit', function(event) {
        event.preventDefault();
        // Here you would typically send the data to a server
        alert('Profile saved successfully!');
        // window.location.href = '/dashboard.html'; // Redirect after save
    });
</script>
</html>
